{% extends "base.html" %}

{% block content %}

<div class="container p-3 my-3 border mt-3 rounded">
    <div class="row">
        <div class="col-sm">
            {% for user in user %}
            <h2>The Messenger - {{ user }}</h2>
            {% endfor %}

            {% for erro in error %}
            <h3>{{ erro }}</h3>
            {% endfor %}
        </div>
        <div class="row justify-content-end">
            <div class="col-sm">
                <a href="/logout/">
                    <button type="button" class="btn btn-danger">LOGOUT</button>
                </a>
            </div>
        </div>
    </div>
</div>
<div class="container border rounded">
    <div class="row">
        <div class="col-4 border rounded">
            <div class="row text-center">
                <form action="/score/" method="post">{% csrf_token %}
                    <div class="row">
                        <div class="col-10">
                            <input type="text" , class="form-control" id="buscar" name="buscar"
                                placeholder="Buscar Amigos">
                        </div>
                        <div class="col-2">
                            <button type="submit" class="btn btn-success">Buscar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div class="col-8 border rounded">
            <div class="row">
                <div class="col-3">
                    Resultado da busca:
                </div>
                <div class="col-5">
                    {% for user in users %}
                    <div>
                        {{ user.username }} <a href="/friend/?id={{ user.id }}&op=add">Adicionar</a>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-4 border rounded" style="height: 200px;">
            <div>
                <h3>Coluna de Amigos</h3>

                    {% for friend in friends %}
                    <div>
                        {{ friend.friend_id.username }} <a href="/friend/?id={{ friend.friend_id.id }}&op=del">Remover</a>
                    </div>
                    {% endfor %}

            </div>
        </div>
        <div class="col-8 border rounded" style="height: 200px;">
            <div>
                <h3 align="center">
                    Melhor pontuação
                </h3>
                <div class="row" align="center">
                    <div class="col-3 border rounded">Jogador</div>
                    <div class="col-3 border rounded">Fácil</div>
                    <div class="col-3 border rounded">Médio</div>
                    <div class="col-3 border rounded">Difícil</div>
                </div>
                {% for sc in score %}
                <div class="row" align="center">
                    <div class="col-3 border rounded">{{sc.user.username}}</div>
                    <div class="col-3 border rounded">{{sc.dif_easy}}</div>
                    <div class="col-3 border rounded">{{sc.dif_med}}</div>
                    <div class="col-3    border rounded">{{sc.dif_hard}}</div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    {% endblock content %}